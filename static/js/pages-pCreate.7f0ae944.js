(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pCreate"],{"59d0":function(t,e,n){"use strict";n.r(e);var a=n("971b"),i=n("e10f");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var u,o=n("f0c5"),c=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"0d16d33e",null,!1,a["a"],u);e["default"]=c.exports},"971b":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={uTopTips:n("dd54").default,uInput:n("7fef").default,uTabs:n("b452").default,uButton:n("7d45").default,uIcon:n("940f").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{height:"100%",width:"100%"}},[n("u-top-tips",{ref:"uTips"}),n("v-uni-view",{staticStyle:{padding:"20px","max-width":"750px",margin:"0 auto"}},[n("v-uni-view",{staticStyle:{padding:"10px 0"}},[n("v-uni-view",[t._v("作品标题")]),n("u-input",{attrs:{border:!0,placeholder:t.$ll({zhCN:"作品标题为公开信息，任何人都能阅读",enUS:"Optional"})},model:{value:t.creationTitle,callback:function(e){t.creationTitle=e},expression:"creationTitle"}})],1),n("v-uni-view",{staticStyle:{padding:"10px 0"}},[n("v-uni-view",[t._v("作品内容")]),n("u-input",{attrs:{type:"textarea",border:!0,autoHeight:!0,placeholder:t.$ll({zhCN:"作品内容将被加密封印，只有向您付费的用户能够解密访问",enUS:"Must fill in"})},model:{value:t.contentData,callback:function(e){t.contentData=e},expression:"contentData"}})],1),n("v-uni-view",{staticStyle:{padding:"10px 0"}},[n("v-uni-view",[t._v("封印方式")]),n("u-tabs",{ref:"tabs",staticStyle:{border:"1px solid #EEEEEE"},attrs:{list:t.authorizationList,name:t.$SS.i18n.mylang,current:t.authIndex,"is-scroll":!1,"show-bar":!1,"active-color":"#2979ff","bg-color":"#eeeeee","active-item-style":{background:"white"}},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),function(e){t.authIndex=e}.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticStyle:{padding:"10px 0"}},[n("u-button",{attrs:{type:t.$T.YELLOW},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.content2cid.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"arrow-upward"}}),t._v(t._s(t.$ll({zhCN:"提交我的作品",enUS:"Submit My Works"})))],1)],1)],1)],1)},r=[]},c35e:function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("1da1")),r={data:function(){return{creationTitle:"",contentData:"",creator_cipher:"",authorizationList:[{authType:"AGENT",zhCN:"全权委托",enUS:"Agent"},{authType:"SELF",zhCN:"自我管理",enUS:"Self"},{authType:"Joint",zhCN:"联合管理",enUS:"Joint"}],authIndex:0}},computed:{authType:function(){return this.authorizationList[this.authIndex].authType}},onLoad:function(){this.$store.commit("i18n/setBarTitles")},methods:{content2cid:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,a,i,r,u,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.authIndex=0,t.contentData){e.next=4;break}return t.$refs.uTips.show({type:_$T.RED,title:_$ll({enUS:"Lack of Content",zhCN:"缺少创作内容"})}),e.abrupt("return");case 4:if("SELF"!==t.authType){e.next=8;break}uni.navigateTo({url:"pCreateSealSelf"}),e.next=28;break;case 8:if("JOINT"!==t.authType){e.next=17;break}return e.next=11,_$T.callBackend({apiWho:"NFT",apiTodo:"getCid",apiWhat:{contentData:t.contentData}});case 11:n=e.sent,a=n._state,i=n.cid,"SUCCESS"===a?(t.$SS.NFT.cidNow=i,uni.navigateTo({url:"pCreateSealJoint"})):(t.$SS.NFT.cidNow="",t.$refs.uTips.show({type:_$T.RED,title:_$ll({enUS:"",zhCN:"作品上传碰到问题，请稍后再试"})})),e.next=28;break;case 17:if("AGENT"!==t.authType){e.next=28;break}if(null===(r=t.$SS.User.onlineUser)||void 0===r?void 0:r.uuid){e.next=21;break}return t.$refs.uTips.show({type:t.$T.RED,title:t.$ll({zhCN:"请登录",enUS:"Please login"})}),e.abrupt("return");case 21:return e.next=23,_$T.callBackend({apiWho:"NFT",apiTodo:"content2nft",apiWhat:{contentData:t.contentData,creationTitle:t.creationTitle}});case 23:u=e.sent,o=u._state,c=u.nft,u.cidHex,"SUCCESS"===o?(t.$SS.NFT.nftNow=c,uni.navigateTo({url:"pShow"})):t.$refs.uTips.show({type:t.$T.RED,title:t.$ll({zhCN:"后台没能返回有效的nft",enUS:""})});case 28:case"end":return e.stop()}}),e)})))()}}};e.default=r},e10f:function(t,e,n){"use strict";n.r(e);var a=n("c35e"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a}}]);