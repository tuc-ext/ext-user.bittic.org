(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Ident"],{"8cb0":function(e,t,n){"use strict";var a=n("4ea4");n("99af"),n("c975"),n("d81d"),n("dca8"),n("b64b"),n("07ac"),n("ac1f"),n("5319"),n("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("1da1")),o=a(n("9155")),r={data:function(){return{i18nText:Object.freeze({zhCN:{tPageTitle:"身份识别",tPhonePrompt:"请输入您的手机号",tIdentButton:"提 交",tInvalidPhone:"手机号格式错误，请重新输入",tBadResponse:"😭 后台系统错误，非常抱歉"},enUS:{tPageTitle:"Identify",tPhonePrompt:"Enter your phone",tIdentButton:"Submit",tInvalidPhone:"Invalid phone number, please input again",tBadResponse:"😭 Backend system error, please try again later"}}),landIndex:Object.keys(_$SS.i18n.landSet).indexOf(_$SS.i18n.myland),callnumber:"",isLoading:!1}},computed:{lote:getApp().$T.localeText,landList:function(){return Object.values(_$SS.i18n.landSet).map((function(e,t,n){return"[".concat(e.name[_$SS.i18n.mylang],"] ").concat(e.itc)}))}},onLoad:function(){this.$store.dispatch("Ident/restartIfOnline")},onShow:function(){this.$store.commit("i18n/setBarTitles")},methods:{submitPhone:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.callnumber=e.callnumber.trim().replace(/\s/g,"").replace(/^0+/,""),_$SS.Ident.phone="".concat(Object.values(_$SS.i18n.landSet)[e.landIndex].itc).concat(e.callnumber),!o.default.validatePhone({phone:_$SS.Ident.phone})){t.next=11;break}return e.isLoading=!0,t.next=6,_$T.callBackend({backend:"SERVER",apiWho:"User",apiTodo:"identify",apiWhat:{phone:_$SS.Ident.phone}});case 6:n=t.sent,e.isLoading=!1,"OLD_USER"===n._state?(_$SS.Ident.uuid=n.uuid,uni.setStorageSync("_passtoken",n._passtoken),uni.navigateTo({url:"IdentLogin"})):"NEW_USER"===n._state?(_$SS.Ident.uuid=n.uuid,uni.setStorageSync("_passtoken",n._passtoken),uni.navigateTo({url:"IdentNewVerify"})):"INPUT_MALFORMED"===n._state?e.$refs.uTips.show({type:_$T.RED,title:e.lote.tInvalidPhone}):e.$refs.uTips.show({type:_$T.RED,title:e.lote.tBadResponse}),t.next=12;break;case 11:e.$refs.uTips.show({type:_$T.RED,title:e.lote.tInvalidPhone});case 12:case"end":return t.stop()}}),t)})))()},pickLand:function(e){this.landIndex=e.target.value,_$SS.i18n.myland=Object.keys(_$SS.i18n.landSet)[e.target.value]}}};t.default=r},"96fa":function(e,t,n){"use strict";n.r(t);var a=n("f93d"),i=n("b5b0");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r,l=n("f0c5"),u=Object(l["a"])(i["default"],a["b"],a["c"],!1,null,"741a2b56",null,!1,a["a"],r);t["default"]=u.exports},b5b0:function(e,t,n){"use strict";n.r(t);var a=n("8cb0"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},f93d:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uTopTips:n("dd54").default,uIcon:n("940f").default,uInput:n("7fef").default,uButton:n("7d45").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticStyle:{width:"100%",height:"100%","align-items":"center"}},[n("v-uni-view",{staticClass:"sLoginContent"},[n("u-top-tips",{ref:"uTips"}),n("v-uni-picker",{staticClass:"us-text-color-grey-dark",staticStyle:{width:"100%","box-sizing":"border-box","font-size":"36rpx","letter-spacing":"2rpx",margin:"20px auto"},attrs:{value:e.landIndex,range:e.landList},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickLand.apply(void 0,arguments)}}},[n("v-uni-view",{staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"center"}},[n("v-uni-view",[e._v(e._s(e.landList[e.landIndex]))]),n("u-icon",{staticStyle:{flex:"none","font-size":"small","margin-left":"20px"},attrs:{name:"arrow-down-fill"}})],1)],1),n("u-input",{staticStyle:{"letter-spacing":"10px",margin:"20px 0"},attrs:{type:"digit",maxlength:"11",placeholder:e.$ll({zhCN:"请输入您的手机号",enUS:"Enter your phone number please"}),"placeholder-style":"letter-spacing: initial",border:!0,focus:!0},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitPhone(t)}},model:{value:e.callnumber,callback:function(t){e.callnumber=t},expression:"callnumber"}}),n("u-button",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{type:e.$T.BLUE,size:"medium",shape:"square",loading:e.isLoading,disabled:e.isLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitPhone.apply(void 0,arguments)}}},[e._v(e._s(e.$ll({zhCN:"提 交",enUS:"Submit"})))])],1)],1)},o=[]}}]);